<%= render '/sessions/navbar' %>

<h1>New Query</h1>

<%= form_with model: [current_user, current_user.queries.build], local: true do |form| %>

	<% if @query.errors.any? %>
		<div id="error_explanation">
			<h2>
				<%= pluralize(@query.errors.count, "error") %> prohibited this query from being processed:
			</h2>
			<ul>
				<% @query.errors.full_messages.each do |msg| %>
					<li><%= msg %></li>
				<% end %>
			</ul>
		</div>
	<% end %>

	<p class="query-form-file">
		<%= form.label :file %>: 
		<%= form.file_field :file %>
	</p>
	
	<%# Sample field below. Copy the next block to add any additional fields %>

	<p class="query-form-field">
		<%= form.label :sample_field %>: 
		<%= form.text_field :sample_field %><br>
	</p>

	<%# End sample field %>

	<p class="query-form-submit">
		<%= form.submit 'Submit', class: 'form-submit'%>
	</p>

<% end %>

<%= link_to 'Back', '/welcome', class: 'back-btn' %>